module.exports=__NEXT_REGISTER_PAGE("/",function(){var e=webpackJsonp([6],{316:function(e,t,r){e.exports=r(317)},317:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={};r.d(n,"taskAdd",function(){return w});r.d(n,"taskDone",function(){return T});r.d(n,"taskUndone",function(){return _});r.d(n,"taskRemove",function(){return k});r.d(n,"taskEdit",function(){return g});r.d(n,"taskFilter",function(){return O});r.d(n,"fetchTaskList",function(){return A});var o=r(19);var a=r(47);var i=r.n(a);var s=r(0);var u=r.n(s);var c=r(1);var l=r.n(c);var f=r(57);var p=r(17);var h=r(318);var d=r.n(h);var y=r(30);var v=r.n(y);var b=r(67);var m=this;function E(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var s=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}var w=function e(t){return{name:t,type:b["b"].TASK_ADD}};var T=function e(t){return{id:t,type:b["b"].TASK_DONE}};var _=function e(t){return{id:t,type:b["b"].TASK_UNDONE}};var k=function e(t){return{id:t,type:b["b"].TASK_REMOVE}};var g=function e(t){var r=t.id,n=t.name;return{id:r,name:n,type:b["b"].TASK_EDIT}};var O=function e(t){return{filter:t,type:b["b"].TASK_FILTER}};var S=function e(t){return{list:v.a.fromJS(t),type:b["b"].FETCH_TASK_LIST}};var A=function e(){return function(){var e=E(i.a.mark(function e(t){var r;return i.a.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return d()("https://api.myjson.com/bins/aapid").then(function(e){return e.json()});case 2:r=n.sent;t(S(r));case 4:case"end":return n.stop()}},e,m)}));return function(t){return e.apply(this,arguments)}}()};var j=n;var P=r(12);var x=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){R(t,e);function t(){B(this,t);return I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}x(t,[{key:"handleSubmit",value:function e(t){t.preventDefault();var r=this.textInput.value;if(r.trim()){this.textInput.value="";this.props.onSave(r)}}},{key:"render",value:function e(){var t=this;var r=this.props,n=r.value,o=r.onBlur;return u.a.createElement("form",{className:"component-task-form",onSubmit:this.handleSubmit.bind(this)},u.a.createElement("input",{autoFocus:true,ref:function e(r){t.textInput=r},type:"text",defaultValue:n,onBlur:o}),u.a.createElement("button",{type:"submit"},"Save"))}}]);return t}(s["Component"]);var F=C;var L=r(6);var D=r.n(L);var U=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function K(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q=function(e){K(t,e);function t(){var e;var r,n,o;N(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return o=(r=(n=H(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n),n.state={isEdit:false},r),H(n,o)}U(t,[{key:"changeEditState",value:function e(){this.setState(function(e){var t=e.isEdit;return{isEdit:!t}})}},{key:"handleTaskEdit",value:function e(t){var r=this.props,n=r.id,o=r.onTaskEdit;this.changeEditState();o({id:n,name:t})}},{key:"handleToggleStatus",value:function e(){var t=this.props,r=t.id,n=t.done,o=t.onTaskDone,a=t.onTaskUndone;n?a(r):o(r)}},{key:"handleRemoveStatus",value:function e(){var t=this.props,r=t.id,n=t.onTaskRemove;n(r)}},{key:"render",value:function e(){var t=this.props,r=t.name,n=t.done;var o=this.state.isEdit;var a=D()("component-todo-item",{"status-done":n});return u.a.createElement("div",{className:a},o?u.a.createElement(F,{onSave:this.handleTaskEdit.bind(this),onBlur:this.changeEditState.bind(this),value:r}):u.a.createElement("div",null,u.a.createElement("span",{className:"name",onDoubleClick:this.changeEditState.bind(this),style:{textDecoration:n?"line-through":"none"}},r),u.a.createElement("div",{className:"remove-status",onClick:this.handleRemoveStatus.bind(this)}),u.a.createElement("div",{className:"toggle-status",onClick:this.handleToggleStatus.bind(this)})))}}]);return t}(s["Component"]);var G=q;var M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function V(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var z=function e(t){var r=t.tasks,n=V(t,["tasks"]);return u.a.createElement("ul",null,r.map(function(e){return u.a.createElement("li",{key:e.get("id")},u.a.createElement(G,M({id:e.get("id"),name:e.get("name"),done:e.get("done")},n)))}))};var J=z;var X=r(97);var $=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function Y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z=function(e){Y(t,e);function t(){Q(this,t);return W(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}$(t,[{key:"handleTaskFilter",value:function e(t){var r=this.props.onTaskFilter;r(t)}},{key:"render",value:function e(){var r=this;var n=this.props,o=n.taskCount,a=n.doneTaskCount,i=n.filters;return u.a.createElement("div",{className:"component-task-stats"},u.a.createElement("ul",{className:"filter-list"},Object.keys(X["FILTER_TITLES"]).map(function(e,n){return u.a.createElement("li",{key:n},u.a.createElement("span",{className:D()({active:i===X["FILTER_TITLES"][e]}),onClick:function t(){return r.handleTaskFilter(X["FILTER_TITLES"][e])}},t.renderCapitalize(X["FILTER_TITLES"][e])))})),u.a.createElement("dl",null,u.a.createElement("dt",null,"Total Tasks count:"),u.a.createElement("dd",null,o),u.a.createElement("dt",null,"Active count:"),u.a.createElement("dd",null,o-a),u.a.createElement("dt",null,"Completed count:"),u.a.createElement("dd",null,a),u.a.createElement("dt",{style:{marginTop:20}},u.a.createElement("i",{style:{color:"red"}},"*")," double click the task item to edit the task"),u.a.createElement("dd",null)))}}],[{key:"renderCapitalize",value:function e(t){return t.charAt(0)+t.slice(1).toLowerCase()}}]);return t}(s["Component"]);var ee=Z;var te=r(320);var re=r.n(te);var ne=function e(t){return t.get("list")};var oe=function e(t){return t.get("filter")};var ae=X["FILTER_TITLES"].ALL,ie=X["FILTER_TITLES"].ACTIVE,se=X["FILTER_TITLES"].COMPLETED;var ue=Object(te["createSelector"])([ne,oe],function(e,t){switch(t){case ae:return e;case ie:return e.filter(function(e){return!e.get("done")});case se:return e.filter(function(e){return e.get("done")});default:return e}});var ce=Object(te["createSelector"])([ne],function(e){return e.filter(function(e){return e.get("done")})});var le=function(e){return{tasks:ue(e.get("tasks")),filters:oe(e.get("tasks")),taskCount:ne(e.get("tasks")).count(),doneTaskCount:ce(e.get("tasks")).count()}};var fe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();function pe(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var s=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function ye(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ve=function(e){ye(t,e);function t(){he(this,t);return de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}fe(t,[{key:"render",value:function e(){var t=this.props,r=t.tasks,n=t.taskCount,o=t.doneTaskCount,a=t.filters,i=t.onTasksActions;var s=i.taskAdd,c=i.taskDone,l=i.taskUndone,f=i.taskRemove,p=i.taskEdit,h=i.taskFilter;var d={tasks:r,onTaskEdit:p,onTaskDone:c,onTaskUndone:l,onTaskRemove:f};var y={filters:a,taskCount:n,doneTaskCount:o,onTaskFilter:h};var v={rightContentType:"tabBar"};var b={renderHeader:u.a.createElement(P["c"],v,"首页"),renderTabBar:u.a.createElement(P["g"],{selectedTab:"",hidden:true})};return u.a.createElement(P["a"],b,u.a.createElement("div",{className:"viewport"},u.a.createElement(P["f"],null),u.a.createElement(F,{onSave:s}),u.a.createElement(J,d),u.a.createElement(ee,y)))}}],[{key:"getInitialProps",value:function(){var e=pe(i.a.mark(function e(t){var r=t.store;return i.a.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return r.dispatch(j.fetchTaskList());case 2:case"end":return t.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]);return t}(s["Component"]);var be=function e(t){return{onTasksActions:Object(f["b"])(j,t)}};var me=Object(p["connect"])(le,be)(ve);var Ee=t["default"]=Object(o["a"])(me)},318:function(e,t,r){r(319);e.exports=self.fetch.bind(self)},319:function(e,t){(function(e){"use strict";if(e.fetch)return;var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer){var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var n=function(e){return e&&DataView.prototype.isPrototypeOf(e)};var o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1}}function a(e){"string"!==typeof e&&(e=String(e));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){"string"!==typeof e&&(e=String(e));return e}function s(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};t.iterable&&(r[Symbol.iterator]=function(){return r});return r}function u(e){this.map={};e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}u.prototype.append=function(e,t){e=a(e);t=i(t);var r=this.map[e];this.map[e]=r?r+","+t:t};u.prototype["delete"]=function(e){delete this.map[a(e)]};u.prototype.get=function(e){e=a(e);return this.has(e)?this.map[e]:null};u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))};u.prototype.set=function(e,t){this.map[a(e)]=i(t)};u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};u.prototype.keys=function(){var e=[];this.forEach(function(t,r){e.push(r)});return s(e)};u.prototype.values=function(){var e=[];this.forEach(function(t){e.push(t)});return s(e)};u.prototype.entries=function(){var e=[];this.forEach(function(t,r){e.push([r,t])});return s(e)};t.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=true}function l(e){return new Promise(function(t,r){e.onload=function(){t(e.result)};e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader;var r=l(t);t.readAsArrayBuffer(e);return r}function p(e){var t=new FileReader;var r=l(t);t.readAsText(e);return r}function h(e){var t=new Uint8Array(e);var r=new Array(t.length);for(var n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);t.set(new Uint8Array(e));return t.buffer}function y(){this.bodyUsed=false;this._initBody=function(e){this._bodyInit=e;if(e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e)){this._bodyArrayBuffer=d(e.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))};if(t.blob){this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))};this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}}this.text=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(h(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)};t.formData&&(this.formData=function(){return this.text().then(E)});this.json=function(){return this.text().then(JSON.parse)};return this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function m(e,t){t=t||{};var r=t.body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url;this.credentials=e.credentials;t.headers||(this.headers=new u(e.headers));this.method=e.method;this.mode=e.mode;if(!r&&null!=e._bodyInit){r=e._bodyInit;e.bodyUsed=true}}else this.url=String(e);this.credentials=t.credentials||this.credentials||"omit";!t.headers&&this.headers||(this.headers=new u(t.headers));this.method=b(t.method||this.method||"GET");this.mode=t.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})};function E(e){var t=new FormData;e.trim().split("&").forEach(function(e){if(e){var r=e.split("=");var n=r.shift().replace(/\+/g," ");var o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}});return t}function w(e){var t=new u;var r=e.replace(/\r?\n[\t ]+/g," ");r.split(/\r?\n/).forEach(function(e){var r=e.split(":");var n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}});return t}y.call(m.prototype);function T(e,t){t||(t={});this.type="default";this.status=void 0===t.status?200:t.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in t?t.statusText:"OK";this.headers=new u(t.headers);this.url=t.url||"";this._initBody(e)}y.call(T.prototype);T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})};T.error=function(){var e=new T(null,{status:0,statusText:""});e.type="error";return e};var _=[301,302,303,307,308];T.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})};e.Headers=u;e.Request=m;e.Response=T;e.fetch=function(e,r){return new Promise(function(n,o){var a=new m(e,r);var i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:w(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new T(t,e))};i.onerror=function(){o(new TypeError("Network request failed"))};i.ontimeout=function(){o(new TypeError("Network request failed"))};i.open(a.method,a.url,true);"include"===a.credentials?i.withCredentials=true:"omit"===a.credentials&&(i.withCredentials=false);"responseType"in i&&t.blob&&(i.responseType="blob");a.headers.forEach(function(e,t){i.setRequestHeader(t,e)});i.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})};e.fetch.polyfill=true})("undefined"!==typeof self?self:this)},320:function(e,t,r){"use strict";t.__esModule=true;t.defaultMemoize=a;t.createSelectorCreator=s;t.createStructuredSelector=c;function n(e,t){return e===t}function o(e,t,r){if(null===t||null===r||t.length!==r.length)return false;var n=t.length;for(var o=0;o<n;o++)if(!e(t[o],r[o]))return false;return true}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;var r=null;var a=null;return function(){o(t,r,arguments)||(a=e.apply(null,arguments));r=arguments;return a}}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"===typeof e})){var r=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var s=0;var u=n.pop();var c=i(n);var l=e.apply(void 0,[function(){s++;return u.apply(null,arguments)}].concat(r));var f=a(function(){var e=[];var t=c.length;for(var r=0;r<t;r++)e.push(c[r].apply(null,arguments));return l.apply(null,e)});f.resultFunc=u;f.recomputations=function(){return s};f.resetRecomputations=function(){return s=0};return f}}var u=t.createSelector=s(a);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;if("object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var r=Object.keys(e);return t(r.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){e[r[n]]=t;return e},{})})}}},[316]);return{page:e.default}});